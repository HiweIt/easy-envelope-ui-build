import{d as p,u as y,r as c,aP as g,bR as v,_ as b,g as N,l as V,bo as h,k as B,j as P,bk as S,bh as $,ax as k}from"./index.505ac9ba.js";import{u as I}from"./use-quasar.8e6d8bfc.js";const K=p({name:"NumberInput",emits:["update:model-value","change"],props:{hideZeroOnMount:{type:Boolean,default:!1},integer:{type:Boolean,default:!1},modelValue:{type:Number,required:!0,default:0},emitOnKeyPress:{type:Boolean,default:!1}},setup(t,{emit:a}){const{t:u}=y({useScope:"global"}),i=I(),s=["0","1","2","3","4","5","6","7","8","9",".",",","-"],n=c("");function l(e){(s.findIndex(o=>o===e.key)===-1||(e.key==="."||e.key===",")&&(t.integer||n.value.includes(".")||n.value.includes(",")))&&e.preventDefault(),t.emitOnKeyPress&&f()}function r(e){var d;let o=Number((d=e.clipboardData)==null?void 0:d.getData("text/plain").replace(",","."));isNaN(o)&&(e.preventDefault(),i.notify({type:"negative",message:u("numericInputOnlyError")}))}function m(e){(e===null||typeof e=="number")&&(e="0"),e=e.replace(",","."),t.integer&&(e=Number(e).toFixed(0).toString()),n.value=String(e)}function f(){if(n.value.length===0){a("update:model-value",0);return}let e=Number(n.value);(isNaN(e)||!isFinite(e))&&(e=0,n.value="0",i.notify({type:"negative",message:u("numericInputOnlyError")})),t.integer&&e.toFixed(0),n.value=String(e),a("update:model-value",e)}return g(()=>{const e=String(t.modelValue);if(t.hideZeroOnMount&&(e==null||e.length===0||e==="0")){n.value="";return}n.value=e}),v(()=>{if(t.hideZeroOnMount&&t.modelValue===0){n.value="";return}n.value=String(t.modelValue)}),{internalValue:n,emitValue:f,filterKey:l,filterPaste:r,filterUpdate:m}}});function O(t,a,u,i,s,n){return N(),V(k,$(t.$props,{"model-value":t.internalValue,onKeypress:t.filterKey,onPaste:t.filterPaste,"onUpdate:modelValue":a[0]||(a[0]=l=>t.filterUpdate(l)),onBlur:t.emitValue}),h({_:2},[B(t.$slots,(l,r)=>({name:r,fn:P(()=>[S(t.$slots,r)])}))]),1040,["model-value","onKeypress","onPaste","onBlur"])}var w=b(K,[["render",O]]);export{w as N};
