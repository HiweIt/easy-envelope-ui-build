import{d as P,u as x,r as A,o as I,g as V,l as q,j as r,p as a,aN as M,i as l,aB as $,m as c,M as z,t as g,s as N,aL as H,aW as p,aC as E,bk as F,Q as f,I as L,D as O,aD as Y,q as S,c as C,bq as j,aI as K}from"./index.0758cc70.js";import{Q as G}from"./QPage.f1f1f774.js";import{H as J}from"./hq-data-table.es.3d5195ea.js";import{u as X}from"./use-quasar.59586a85.js";import{Q as Z}from"./QInnerLoading.046c78b4.js";import{Q as ee}from"./QForm.cda406e3.js";import{C as le}from"./ClosePopup.2915bf14.js";import{r as _,b as te}from"./validation.a84391aa.js";import{e as ae}from"./extend.e55e2e7d.js";import{u as T}from"./use-dialog-plugin-component.2242f66a.js";import{P as W,u as Q}from"./PricePlan.8aa7b8ee.js";import{N as w}from"./NumberInput.e5d8ddf5.js";import{Q as oe}from"./QTooltip.aab238e5.js";import{_ as ie}from"./ConfirmationModal.285ffaec.js";import"./QSelect.e1291d40.js";import"./QItem.ba7ecbda.js";import"./QMenu.0d6eab6a.js";import"./position-engine.2c0f0e16.js";import"./rtl.b51694b1.js";import"./format.2bc25e5f.js";import"./QScrollObserver.a03d92e0.js";import"./QTabs.c4ed0177.js";import"./QImg.f6697a5a.js";import"./QSpace.82e7702a.js";import"./QBtnDropdown.a65c4dc2.js";import"./QList.bd51278f.js";import"./QTable.83513210.js";import"./QMarkupTable.a64b3097.js";import"./use-fullscreen.1f3a79e9.js";const ne={class:"row q-col-gutter-md",style:{"font-size":"1.5em"}},se={class:"text-h6"},re={class:"row q-col-gutter-lg"},ce={class:"col-12"},de={class:"col-6"},ue={class:"col-6"},me={class:"col-6"},pe={class:"col-6"},be={class:"q-gutter-sm col-6"},ge={class:"text-subtitle2"},fe=P({__name:"PricePlansModal",props:{entity:{type:[Function,Array]},title:{}},emits:[...T.emits],setup(u){const t=u,{t:n}=x({useScope:"global"}),{dialogRef:m,onDialogHide:h,onDialogOK:k,onDialogCancel:R}=T(),o=A(new W),B=A(!1),v=async()=>{await Q().savePricePlan(o.value),k()},D=()=>{const d=Q();d.loading=!1,R()};return I(()=>{o.value=ae(!0,{},t.entity)}),(d,i)=>(V(),q(M,{persistent:"",ref_key:"dialogRef",ref:m,onHide:a(h)},{default:r(()=>[l(Y,null,{default:r(()=>[l(ee,{ref:"formForSubmit",class:"col-xs-12 col-md-9 col-lg-10 q-mb-md",onSubmit:v},{default:r(()=>[l($,null,{default:r(()=>[c("div",ne,[l(z,{name:"o_payments",size:"md"}),c("div",se,g(d.title),1)])]),_:1}),l(N),l($,null,{default:r(()=>[c("div",re,[c("div",ce,[l(H,{dense:"",outlined:"","hide-bottom-space":"",label:`${a(n)("name")} *`,modelValue:o.value.name,"onUpdate:modelValue":i[0]||(i[0]=e=>o.value.name=e),rules:[a(_)]},null,8,["label","modelValue","rules"])]),c("div",de,[l(w,{dense:"",outlined:"","hide-bottom-space":"",label:`${a(n)("price")} *`,modelValue:o.value.price,"onUpdate:modelValue":i[1]||(i[1]=e=>o.value.price=e),rules:[a(te)]},null,8,["label","modelValue","rules"])]),c("div",ue,[l(w,{dense:"",outlined:"","hide-bottom-space":"",label:`${a(n)("monthlyRequests")} *`,modelValue:o.value.monthlyRequests,"onUpdate:modelValue":i[2]||(i[2]=e=>o.value.monthlyRequests=e),rules:[a(_)],integer:!0},null,8,["label","modelValue","rules"])]),c("div",me,[l(w,{dense:"",outlined:"","hide-bottom-space":"",label:`${a(n)("emailTemplates")} *`,modelValue:o.value.emailTemplates,"onUpdate:modelValue":i[3]||(i[3]=e=>o.value.emailTemplates=e),rules:[a(_)],integer:!0},null,8,["label","modelValue","rules"])]),c("div",pe,[l(w,{dense:"",outlined:"","hide-bottom-space":"",label:`${a(n)("dataRetention")} *`,modelValue:o.value.dataRetention,"onUpdate:modelValue":i[4]||(i[4]=e=>o.value.dataRetention=e),rules:[a(_)],integer:!0},null,8,["label","modelValue","rules"])]),c("div",be,[l(p,{"left-label":"",class:"q-ml-md",modelValue:o.value.guaranteedUptime,"onUpdate:modelValue":i[5]||(i[5]=e=>o.value.guaranteedUptime=e),label:`${a(n)("guaranteedUptime")}*`,"checked-icon":"task_alt","unchecked-icon":"highlight_off"},null,8,["modelValue","label"]),l(p,{"left-label":"",class:"q-ml-md",modelValue:o.value.emailApi,"onUpdate:modelValue":i[6]||(i[6]=e=>o.value.emailApi=e),label:`${a(n)("emailApi")} *`,"checked-icon":"task_alt","unchecked-icon":"highlight_off"},null,8,["modelValue","label"]),l(p,{"left-label":"",modelValue:o.value.ccBccRecipients,"onUpdate:modelValue":i[7]||(i[7]=e=>o.value.ccBccRecipients=e),class:"q-ml-md",label:`${a(n)("ccBccRecipients")} *`,"checked-icon":"task_alt","unchecked-icon":"highlight_off"},null,8,["modelValue","label"]),l(p,{class:"q-ml-md","left-label":"",modelValue:o.value.trackingAnalytics,"onUpdate:modelValue":i[8]||(i[8]=e=>o.value.trackingAnalytics=e),label:`${a(n)("trackingAnalytics")} *`,"checked-icon":"task_alt","unchecked-icon":"highlight_off"},null,8,["modelValue","label"]),l(p,{class:"q-ml-md","left-label":"",modelValue:o.value.domainWhitelist,"onUpdate:modelValue":i[9]||(i[9]=e=>o.value.domainWhitelist=e),label:`${a(n)("domainWhitelist")} *`,"checked-icon":"task_alt","unchecked-icon":"highlight_off"},null,8,["modelValue","label"]),l(p,{class:"q-ml-md","left-label":"",modelValue:o.value.prioritySupport,"onUpdate:modelValue":i[10]||(i[10]=e=>o.value.prioritySupport=e),label:`${a(n)("prioritySupport")} *`,"checked-icon":"task_alt","unchecked-icon":"highlight_off"},null,8,["modelValue","label"])])])]),_:1}),l(E,{align:"right"},{default:r(()=>[F(d.$slots,"action-buttons",{},()=>[l(f,{flat:"",label:a(n)("save"),color:"positive",type:"submit"},null,8,["label"]),L(l(f,{flat:"",label:a(n)("cancel"),color:"negative",onClick:i[11]||(i[11]=e=>D())},null,8,["label"]),[[le]])])]),_:3}),l(Z,{showing:B.value,style:{"z-index":"9999"}},{default:r(()=>[l(O,{color:"primary",size:"3em",thickness:10,class:"q-mb-sm"}),c("span",ge,g(a(n)("checkingEmailCredentials")),1)]),_:1},8,["showing"])]),_:3},512)]),_:3})]),_:3},8,["onHide"]))}}),b=P({__name:"ThumbFromBool",props:{checked:{type:Boolean},iconPositive:{default:"thumb_up"},checkedPositive:{default:"positive"},size:{default:"xs"}},setup(u){return(t,n)=>(V(),q(z,{name:t.checked?t.iconPositive:"thumb_down",color:t.checked?t.checkedPositive:"red",size:t.size},null,8,["name","color","size"]))}}),he=P({__name:"ToggleDisabledButton",props:{disabled:{type:Boolean,default:!1},id:{type:String}},emits:["toggleDisabled"],setup(u,{emit:t}){const n=u,m=()=>{t("toggleDisabled",n.id)};return(h,k)=>(V(),q(f,{round:"",class:"q-mr-xs",icon:u.disabled?"visibility_off":"visibility",size:"xs",color:"green-9",onClick:m},{default:r(()=>[l(oe,null,{default:r(()=>[S(g(u.disabled?"enable":"disable"),1)]),_:1})]),_:1},8,["icon"]))}}),Ye=P({__name:"PricePlans",setup(u){const{t}=x({useScope:"global"}),n=Q(),m=X(),h=C(()=>[{name:"pricePlans",label:t("pricePlan"),field:"name",align:"left",sortable:!0},{name:"price",label:t("price"),field:"price",sortable:!0,align:"right"},{name:"monthlyRequests",label:t("monthlyRequests"),field:"monthlyRequests",sortable:!0,align:"center"},{name:"emailTemplates",label:t("emailTemplates"),field:"emailTemplates",sortable:!0,align:"center"},{name:"guaranteedUptime",label:t("guaranteedUptime"),field:"guaranteedUptime",sortable:!0,align:"center"},{name:"emailApi",label:t("emailApi"),field:"emailApi",sortable:!0,align:"center"},{name:"ccBccRecipients",label:t("ccBccRecipients"),field:"ccBccRecipients",sortable:!0,align:"center"},{name:"trackingAnalytics",label:t("trackingAnalytics"),field:"trackingAnalytics",sortable:!0,align:"center"},{name:"dataRetention",label:t("dataRetention"),field:"dataRetention",sortable:!0,align:"center"},{name:"domainWhitelist",label:t("domainWhitelist"),field:"domainWhitelist",sortable:!0,align:"center"},{name:"prioritySupport",field:"prioritySupport",label:t("prioritySupport"),sortable:!0,align:"center"},{name:"actions",field:"actions",label:"",showDeleteBtn:!1,showPrintBtn:!1,showEditBtn:!0,align:"center"}]),k=C(()=>n.getPricePlans),R=e=>{D(t("areYouSureYouWantToDelete"),t("warning"),e)},o=()=>{v(new W,t("addPricePlan"))},B=e=>{v(e,t("editPricePlan"))},v=(e,y)=>{j.create({component:fe,componentProps:{entity:e,title:y}})},D=(e,y,s)=>{m.dialog({component:ie,componentProps:{text:e,title:y,id:s}}).onOk(U=>{n.deleteEntity(U),m.notify({type:"positive",message:K.global.t("sentSuccessfully")})})},d=e=>e>-1?e:t("unlimited"),i=e=>{n.toggleVisibility(e)};return n.fetchPricePlans(),(e,y)=>(V(),q(G,{class:"q-pa-md"},{default:r(()=>[l(a(J),{bordered:"",flat:"",columns:h.value,inline:!1,"loading-label":a(t)("loadingData"),"no-data-label":a(t)("noDataAvailable"),"no-results-label":a(t)("noMatchedRecords"),rows:k.value,"rows-per-page-label":a(t)("recordsPerPage"),title:a(t)("pricePlans"),onRowEditRequested:B},{"row-cell-monthlyRequests":r(({props:s})=>[S(g(d(s.row.monthlyRequests)),1)]),"row-cell-emailTemplates":r(({props:s})=>[S(g(d(s.row.emailTemplates)),1)]),"row-cell-guaranteedUptime":r(({props:s})=>[l(b,{checked:s.row.guaranteedUptime},null,8,["checked"])]),"row-cell-emailApi":r(({props:s})=>[l(b,{checked:s.row.emailApi},null,8,["checked"])]),"row-cell-ccBccRecipients":r(({props:s})=>[l(b,{checked:s.row.ccBccRecipients},null,8,["checked"])]),"row-cell-trackingAnalytics":r(({props:s})=>[l(b,{checked:s.row.trackingAnalytics},null,8,["checked"])]),"row-cell-domainWhitelist":r(({props:s})=>[l(b,{checked:s.row.domainWhitelist},null,8,["checked"])]),"row-cell-prioritySupport":r(({props:s})=>[l(b,{checked:s.row.prioritySupport},null,8,["checked"])]),"search-append":r(()=>[l(f,{flat:"",color:"primary",icon:"add",label:a(t)("addPricePlan"),onClick:o},null,8,["label"])]),"row-cell-actions-prepend":r(({props:s})=>[l(he,{disabled:s.row.disabled,id:s.row.id,onToggleDisabled:i},null,8,["disabled","id"]),l(f,{round:"",class:"q-mx-xs",icon:"delete",size:"xs",color:"negative",onClick:U=>R(s.row.id)},null,8,["onClick"])]),_:1},8,["columns","loading-label","no-data-label","no-results-label","rows","rows-per-page-label","title"])]),_:1}))}});export{Ye as default};
